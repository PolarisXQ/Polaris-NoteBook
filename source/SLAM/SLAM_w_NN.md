# SLAM with Nerual Network

## Overview

| Algorithm | Time | Nerual Network | Details |
| -------- | -------- | -------- | -------- |
| SG-SLAM |  | ncnn+ | |
| kimera-semantic |  | Row 2, Column 3 ||

## implementation tools
![](./pic/impltol.webp)
è…¾è®¯å…¬å¸å¼€å‘çš„ç§»åŠ¨ç«¯å¹³å°éƒ¨ç½²å·¥å…·â€”â€”NCNNï¼›Intelå…¬å¸é’ˆå¯¹è‡ªå®¶è®¾å¤‡å¼€å¼€å‘çš„éƒ¨ç½²å·¥å…·â€”â€”OpenVinoï¼›NVIDIAå…¬å¸é’ˆå¯¹è‡ªå®¶GPUå¼€å‘çš„éƒ¨ç½²å·¥å…·â€”â€”TensorRTï¼›Googleé’ˆå¯¹è‡ªå®¶ç¡¬ä»¶è®¾å¤‡å’Œæ·±åº¦å­¦ä¹ æ¡†æ¶å¼€å‘çš„éƒ¨ç½²å·¥å…·â€”â€”MediaPipeï¼›ç”±å¾®è½¯ã€äºšé©¬é€Š ã€Facebook å’Œ IBM ç­‰å…¬å¸å…±åŒå¼€å‘çš„å¼€æ”¾ç¥ç»ç½‘ç»œäº¤æ¢æ ¼å¼â€”â€”ONNX(Open Neural Network Exchange)ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œè¿˜æœ‰ä¸€äº›æ·±åº¦å­¦ä¹ æ¡†æ¶æœ‰è‡ªå·±çš„ä¸“ç”¨éƒ¨ç½²æœåŠ¡ï¼šæ¯”å¦‚TensorFlowè‡ªå·±æä¾›çš„éƒ¨ç½²æœåŠ¡ï¼šTensorFlow Servingã€TensorFlow Liteï¼Œpytorchè‡ªå·±æä¾›çš„éƒ¨ç½²æœåŠ¡ï¼šlibtorchã€‚

ğŸ‘‰[æ·±åº¦å­¦ä¹ æ¨¡å‹éƒ¨ç½²ç»¼è¿°ï¼ˆONNX/NCNN/OpenVINO/TensorRTï¼‰](https://mp.weixin.qq.com/s?__biz=MzU2NjU3OTc5NA==&mid=2247560125&idx=2&sn=001988bca941a9404ac8fe7a351b514d&chksm=fca9ec80cbde659689922250b3138e752cfccf50fde18f07016b7673bf1289bb8bd25bb4f636&scene=27)



## Semantic Segmentation 

### Yolact
YOLACTï¼Œä¸€ä¸ªå®æ—¶çš„æ£€æµ‹+åˆ†å‰²çš„one-stageæ¡†æ¶ã€‚
å°†åˆ†å‰²åˆ†ä¸ºPrototype maskå’ŒMask Coefficientsä¸¤ä¸ªéƒ¨åˆ†çš„ç»„åˆçš„æ€æƒ³éå¸¸å¥½ã€‚
å®é™…ä½¿ç”¨æ„Ÿè§‰ï¼Œç›¸æ¯”mask rcnnï¼Œyolactçš„æ¼æ£€ï¼Œè¯¯æ£€ï¼Œæ³„éœ²é—®é¢˜éƒ½æ˜æ˜¾å¤šä¸€äº›ã€‚å¯ä»¥åœ¨ç²¾åº¦è¦æ±‚ä¸é«˜ï¼Œé€Ÿåº¦è¦æ±‚é«˜çš„åœºåˆè€ƒè™‘ä½¿ç”¨ã€‚

### MIT-SemSeg

### Yolo-Seg

### Mask Rcnn

### Yolo

|Version|Trick| Function | Defeat |
|---|---|---|---|
|YoloV1|æŠŠå›¾ç‰‡åˆ’åˆ†ä¸º $7\times 7$ ä¸ªæ ¼å­| å¤šä¸ªåŒä¸€ç§ç›®æ ‡ | ä¸€ä¸ªæ ¼å­è¿˜æ˜¯åªèƒ½æ£€æµ‹ä¸€ä¸ªç‰©ä½“ |
||NMS|ç”±äºå°æ ¼å­å¤ªå¤šäº†ï¼Œç®—æ³•å¾—åˆ°äº†å¤šä¸ªé‡å¤çš„æ£€æµ‹æ¡†||
||| å¤šç±»ç›®æ ‡ ||
||å¯¹äºæ¯ä¸ªåŒºåŸŸï¼Œæˆ‘ä»¬ç”¨2ä¸ªäº”å…ƒç»„(c,x,y,w,h)ï¼Œä¸€ä¸ªè´Ÿè´£å›å½’å¤§ç›®æ ‡ï¼Œä¸€ä¸ªè´Ÿè´£å›å½’å°ç›®æ ‡| ä¼˜åŒ–å°ç›®æ ‡æ£€æµ‹ã€‚||
||ç»¼ä¸Šï¼Œ$output=30=5 \times 2(c_{big},x_{big},y_{big},w_{big},h_{big}, c_{small},x_{small},y_{small},w_{small},h_{small})+20 classes$|é¢„æµ‹çš„æ¡†ä¸å‡†ç¡®ï¼šå‡†ç¡®åº¦ä¸è¶³ï¼›å¾ˆå¤šç›®æ ‡æ‰¾ä¸åˆ°ï¼šrecallä¸è¶³ã€‚|æ ·æœ¬ä¸å‡è¡¡ï¼šæ²¡æœ‰è®¡ç®—èƒŒæ™¯çš„geo_lossï¼Œåªè®¡ç®—äº†å‰æ™¯çš„geo_lossï¼Œè¿™ä¸ªé—®é¢˜YOLO v1å›é¿äº†ï¼Œä¾ç„¶å­˜åœ¨ã€‚|
|YoloV2|é¢„æµ‹åŸºäºgridçš„åç§»é‡å’ŒåŸºäºanchorçš„åç§»é‡|é¦–å…ˆä¼šå¯¹è¿™äº›å€¼å½’ä¸€åŒ–ï¼Œè¿™æ˜¯ä¸€ä¸ªåç§»é‡ï¼Œä¸”å€¼å¾ˆå°ï¼Œä½¿å¾—è®­ç»ƒè¿‡ç¨‹æ›´åŠ ç¨³å®šï¼Œæœ‰åˆ©äºç¥ç»ç½‘ç»œçš„å­¦ä¹ ã€‚||
|| Anchor | å¼•å…¥å¯¹è¯†åˆ«å¯¹è±¡çš„å…ˆéªŒçŸ¥è¯†| |
|| åˆ†é˜¶æ®µçš„loss function |å‰12800æ­¥æˆ‘ä»¬ä¼šä¼˜åŒ–é¢„æµ‹çš„(x,y,w,h)ä¸anchorçš„(x,y,w,h)çš„è·ç¦»+é¢„æµ‹çš„(x,y,w,h)ä¸GTçš„(x,y,w,h)çš„è·ç¦»ï¼Œ12800æ­¥ä¹‹åå°±åªä¼˜åŒ–é¢„æµ‹çš„(x,y,w,h)ä¸GTçš„(x,y,w,h)çš„è·ç¦»ï¼Œä¸ºå•¥ï¼Ÿå› ä¸ºè¿™æ—¶çš„é¢„æµ‹ç»“æœå·²ç»è¾ƒä¸ºå‡†ç¡®äº†ï¼Œanchorå·²ç»æ»¡è¶³æˆ‘äº†æˆ‘ä»¬äº†ï¼Œè€Œåœ¨ä¸€å¼€å§‹é¢„æµ‹ä¸å‡†çš„æ—¶å€™ï¼Œç”¨ä¸Šanchorå¯ä»¥åŠ é€Ÿè®­ç»ƒã€‚||
||å°ç›®æ ‡æ£€æµ‹èƒ½åŠ›å·®|||
| YoloV3 | æ£€æµ‹å¤´åˆ†æˆ3ä¸ªéƒ¨åˆ† $13 \times 13 \times 3 \times (4+1+80) $ $26\times26\times3\times(4+1+80)$ $52\times52\times3\times(4+1+80) $|å› ä¸º32å€ä¸‹é‡‡æ ·æ¯ä¸ªç‚¹æ„Ÿå—é‡æ›´å¤§ï¼Œæ‰€ä»¥å»é¢„æµ‹**å¤§ç›®æ ‡**ï¼Œ8å€ä¸‹é‡‡æ ·æ¯ä¸ªç‚¹æ„Ÿå—é‡æœ€å°ï¼Œæ‰€ä»¥å»é¢„æµ‹**å°ç›®æ ‡**ã€‚ä¸“äººä¸“äº‹ã€‚å‘ç°é¢„æµ‹å¾—æ›´å‡†ç¡®äº†ï¼Œæ€§èƒ½åˆæå‡äº†ã€‚||
||9ä¸ªæ¡†ï¼Ÿ|||
||å¤šå°‘ä¸ªbounding boxï¼Ÿ$ (13\times13+26\times26+52\times52)\times3=10467(YOLO v3)>>845(YOLO v2)=13\times13\times5$ |||
|YoloV4|<span style="color:green">Using multi-anchors for single ground truth</span>|æ”¹è¿›æ£€æµ‹å¤´ï¼Œç›¸å½“äºä½ anchoræ¡†çš„æ•°é‡æ²¡å˜ï¼Œä½†æ˜¯é€‰æ‹©çš„æ­£æ ·æœ¬çš„æ¯”ä¾‹å¢åŠ äº†ï¼Œå°±ç¼“è§£äº†æ­£è´Ÿæ ·æœ¬ä¸å‡è¡¡çš„é—®é¢˜ ||
||<span style="color:green">Eliminate_grid sensitivity</span>|å®é™…ä¸Šä¹‹å‰çš„ç®—æ³•æ— æ³•ä½¿æ¡†æ¡†å–åˆ°gridé‡Œé¢çš„ä»»æ„ä½ç½®||
||$\mathcal{L}_{C I o U}=1-I o U+\frac{\rho^{2}\left(\mathbf{b}, \mathbf{b}^{g t}\right)}{c^{2}}+\alpha v $| ğŸ‘‰[æ”¹è¿›è¿‡ç¨‹è¯¦è§£](https://zhuanlan.zhihu.com/p/183781646) ä¸æ–­æ”¹è¿›çš„IoU Loss è€ƒè™‘äº†GTä¸Bounding Boxçš„è·ç¦»ï¼Œé‡åˆé¢ç§¯ï¼Œè§£å†³Bounding Boxå…¨åŒ…å«GTçš„é—®é¢˜ï¼ŒåŠ å¿«äº†æ”¶æ•›é€Ÿåº¦||
|YOloV5|è‡ªé€‚åº”anchor|ä¹‹å‰anchoræ˜¯å›ºå®šçš„ï¼Œè‡ªé€‚åº”anchoråˆ©ç”¨ç½‘ç»œçš„å­¦ä¹ åŠŸèƒ½ï¼Œè®©Anchorçš„$(x_A,y_A,w_A,h_A) $ä¹Ÿæ˜¯å¯ä»¥å­¦ä¹ çš„||

#### Summary
![](./pic/improvement.webp)

ğŸ‘‰ [BackBoneä¼˜åŒ–æ–¹æ¡ˆ](https://zhuanlan.zhihu.com/p/186014243)

## SG-SLAM

## kimera-semantic